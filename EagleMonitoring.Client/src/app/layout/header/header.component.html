<!-- src/app/layout/header/header.component.html -->
<header class="sticky-top">
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm py-2">
    <div class="container-fluid px-3 px-lg-4">
      <!-- Branding -->
      <a class="navbar-brand d-flex align-items-center" routerLink="/dashboard">
        <i class="bi bi-activity me-2 fs-4"></i>
        <span class="d-none d-sm-inline fs-5 fw-semibold">EagleMonitoring</span>
      </a>

      <!-- Mobile Toggle -->
      <button class="navbar-toggler" 
              type="button" 
              (click)="isMobileMenuOpen = !isMobileMenuOpen"
              aria-expanded="false" 
              aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Main Navigation -->
      <div class="collapse navbar-collapse" [class.show]="isMobileMenuOpen">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <!-- Dashboard -->
          @if (hasAccess('dashboard')) {
          <li class="nav-item mx-1">
            <a class="nav-link d-flex align-items-center py-2" 
               routerLink="/dashboard" 
               routerLinkActive="active" 
               [routerLinkActiveOptions]="{exact: true}">
              <i class="bi bi-speedometer2 me-2"></i>
              <span>Dashboard</span>
            </a>
          </li>
          }

          <!-- Animals -->
          @if (hasAccess('animals')) {
          <li class="nav-item dropdown mx-1" ngbDropdown>
            <a class="nav-link d-flex align-items-center py-2 dropdown-toggle" 
               ngbDropdownToggle
               id="animalsDropdown">
              <i class="bi bi-egg-fill me-2"></i>
              <span>Animals</span>
            </a>
            <ul ngbDropdownMenu class="dropdown-menu" aria-labelledby="animalsDropdown">
              <li>
                <a ngbDropdownItem routerLink="/animals/list" routerLinkActive="active">
                  <i class="bi bi-list-ul me-2"></i>All Animals
                </a>
              </li>
              @if (currentRole === 'admin') {
              <li>
                <a ngbDropdownItem routerLink="/animals/add" routerLinkActive="active">
                  <i class="bi bi-plus-circle me-2"></i>Add Animal
                </a>
              </li>
              }
            </ul>
          </li>
          }

          <!-- Add other menu items following the same pattern -->
        </ul>

        <!-- Right-aligned controls -->
        <div class="d-flex align-items-center">
          <!-- User Menu -->
          <div ngbDropdown class="dropdown ms-2">
            <button ngbDropdownToggle class="btn btn-link text-white text-decoration-none dropdown-toggle d-flex align-items-center py-2" 
                    type="button">
              <i class="bi bi-person-circle me-2 fs-5"></i>
              <span class="d-none d-md-inline">{{userName}}</span>
            </button>
            <div ngbDropdownMenu class="dropdown-menu dropdown-menu-end">
              <a ngbDropdownItem routerLink="/profile" class="dropdown-item">
                <i class="bi bi-person me-2"></i>Profile
              </a>
              <a ngbDropdownItem routerLink="/settings" class="dropdown-item">
                <i class="bi bi-gear me-2"></i>Settings
              </a>
              <div class="dropdown-divider"></div>
              <a ngbDropdownItem (click)="logout()" class="dropdown-item">
                <i class="bi bi-box-arrow-right me-2"></i>Logout
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>